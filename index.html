<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ClimaGlobe 3D - Interactive Weather Dashboard</title>
  <meta name="description" content="Explore live global weather, AQI, and news on a stunning, interactive 3D globe." />

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />

  <link rel="stylesheet" href="style.css" />

  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="//unpkg.com/globe.gl"></script>
</head>

<body>
  <header class="site-header">
    <nav class="navbar">
      <a href="#" class="logo">
        <span class="logo-icon">ðŸŒŽ</span>
        <span class="logo-text">ClimaGlobe 3D</span>
      </a>

      <ul class="nav-links">
        <li><a href="#">Home</a></li>
        <li><a href="#">About</a></li>
        <li><a href="#">Contact</a></li>
        
        <!-- === NEW: FAVORITES LIST (for mobile) === -->
        <li class="favorites-nav-section">
          <h4>Favorites</h4>
          <ul id="favorites-list">
            <!-- Favorites will be added here by JS -->
          </ul>
        </li>
        <!-- === END OF NEW SECTION === -->
      </ul>

      <div class="header-actions">
        <!-- I've grouped the toggles for better mobile layout -->
        <div class="toggles-group">
          <!-- === NEW: UNITS TOGGLE === -->
          <button class="units-toggle" id="units-toggle" aria-label="Toggle Celsius/Fahrenheit">
            <div class="units-toggle-track">
              <span class="unit-toggle-label">Â°C</span>
              <span class="unit-toggle-label">Â°F</span>
              <div class="units-toggle-thumb"></div>
            </div>
          </button>
          <!-- === END OF NEW TOGGLE === -->
          
          <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
            <div class="theme-toggle-track">
              <i class="fas fa-moon theme-icon"></i>
              <i class="fas fa-sun theme-icon"></i>
              <div class="theme-toggle-thumb"></div>
            </div>
          </button>
        </div>

        <button class="burger" id="burger-menu" aria-label="Toggle menu" aria-expanded="false">
          <span class="burger-line"></span>
          <span class="burger-line"></span>
          <span class="burger-line"></span>
        </button>
      </div>
    </nav>
  </header>

  <main class="main-container">
    <aside class="sidebar">
      <div class="sidebar-content">
        <div class="search-container">
          <input 
            type="text" 
            id="city-input" 
            class="search-input" 
            placeholder="Search city... (Press / to focus)"
            autocomplete="off"
          />
          <button id="locate-button" class="locate-button" aria-label="Find my location">
            <i class="fas fa-crosshairs"></i>
          </button>
          <button id="search-button" class="search-button" aria-label="Search">
            <i class="fas fa-search"></i>
          </button>
          
          <div id="suggestions-panel" class="suggestions-panel"></div>
        </div>

        <div class="tabs-container">
          <div class="tab-buttons">
            <button class="tab-button active" data-tab="now">Now</button>
            <button class="tab-button" data-tab="forecast">Forecast</button>
            <button class="tab-button" data-tab="news">News</button>
          </div>

          <div class="tab-content">
            <div class="tab-panel active" id="tab-now">
              <section class="panel weather-panel" id="weather-panel">
                <div class="panel-header">
                  <div class="panel-header-content">
                    <i class="fas fa-map-marker-alt panel-icon"></i>
                    <h2 id="location-name">Search a city</h2>
                  </div>
                  <!-- === NEW: FAVORITE BUTTON === -->
                  <button class="favorite-button" id="favorite-button" aria-label="Add to favorites" aria-pressed="false">
                    <i class="far fa-heart"></i> <!-- Empty heart -->
                    <i class="fas fa-heart"></i> <!-- Solid heart -->
                  </button>
                  <!-- === END OF NEW BUTTON === -->
                </div>
                
                <!-- === NEW: LOCAL TIME DISPLAY === -->
                <div class="local-time" id="local-time-display">
                  <!-- Local time will be added here by JS -->
                </div>
                <!-- === END OF NEW DISPLAY === -->

                <div class="temperature-display">
                  <div class="temperature-value" id="temp-display">--Â°</div>
                  <div class="temperature-condition" id="condition-display">--</div>
                  <div class="temperature-feels" id="feels-like-display"></div>
                  <div class="personal-suggestion" id="personal-suggestion"></div>
                </div>

                <div class="weather-grid" id="weather-grid">
                  <div class="weather-card">
                    <div class="weather-card-header">
                      <i class="fas fa-droplet" style="color: #60a5fa;"></i>
                      <span>Humidity</span>
                    </div>
                    <div class="weather-card-value" id="humidity-data">--%</div>
                  </div>

                  <div class="weather-card">
                    <div class="weather-card-header">
                      <i class="fas fa-wind" style="color: #22d3ee;"></i>
                      <span>Wind</span>
                    </div>
                    <div class="weather-card-value" id="wind-data">-- m/s</div>
                  </div>

                  <div class="weather-card">
                    <div class="weather-card-header">
                      <i class="fas fa-gauge-high" style="color: #a78bfa;"></i>
                      <span>Pressure</span>
                    </div>
                    <div class="weather-card-value" id="pressure-data">-- hPa</div>
                  </div>

                  <div class="weather-card">
                    <div class="weather-card-header">
                      <i class="fas fa-eye" style="color: #4ade80;"></i>
                      <span>Visibility</span>
                    </div>
                    <div class="weather-card-value" id="visibility-data">-- km</div>
                  </div>

                  <div class="weather-card">
                    <div class="weather-card-header">
                      <i class="fas fa-sunrise" style="color: #fb923c;"></i>
                      <span>Sunrise</span>
                    </div>
                    <div class="weather-card-value" id="sunrise-data">--:--</div>
                  </div>

                  <div class="weather-card">
                    <div class="weather-card-header">
                      <i class="fas fa-sunset" style="color: #f87171;"></i>
                      <span>Sunset</span>
                    </div>
                    <div class="weather-card-value" id="sunset-data">--:--</div>
                  </div>
                </div>

                <div class="panel-spinner" id="weather-spinner"></div>
              </section>

              <section class="panel aqi-panel" id="aqi-panel" style="display: none;">
                <div class="panel-header">
                  <i class="fas fa-smog panel-icon"></i>
                  <h2>Air Quality Index</h2>
                </div>
                <div class="aqi-content">
                  <div class="aqi-value" id="aqi-value">--</div>
                  <div class="aqi-text">
                    <div class="aqi-category" id="aqi-category">--</div>
                    <div class="aqi-description">Pollutant: <span id="aqi-pollutant">--</span></div>
                  </div>
                </div>
              </section>
            </div>
            
            <div class="tab-panel" id="tab-forecast">
              <section class="panel forecast-panel" id="hourly-forecast-panel">
                <div class="panel-header">
                  <i class="fas fa-clock panel-icon"></i>
                  <h2>Hourly Forecast</h2>
                </div>
                <div class="hourly-forecast-container" id="hourly-forecast-container">
                  </div>
              </section>
              
              <section class="panel forecast-panel" id="daily-forecast-panel">
                <div class="panel-header">
                  <i class="fas fa-calendar-alt panel-icon"></i>
                  <h2>Daily Forecast</h2>
                </div>
                <div class="daily-forecast-container" id="daily-forecast-container">
                  </div>
              </section>
            </div>

            <div class="tab-panel" id="tab-news">
              <section class="panel news-panel" id="news-panel">
                <div class="panel-header">
                  <i class="fas fa-newspaper panel-icon"></i>
                  <h2>Weather News</h2>
                </div>
                <div class="news-container" id="news-container">
                  <div class="news-loading" id="news-loading-message">Search a city to see related news.</div>
                </div>
                <div class="panel-spinner" id="news-spinner"></div>
              </section>
            </div>

          </div>
        </div>
        </div>
    </aside>

    <div class="globe-wrapper">
      <div id="globe-container"></div>
      
      <div class="globe-instructions">
        <i class="fas fa-info-circle"></i>
        <span><strong>Tip:</strong> Drag to rotate</span>
      </div>

      <div class="globe-loading" id="globe-loading">
        <div class="globe-loading-spinner"></div>
        <p>Loading globe...</p>
      </div>
    </div>
  </main>

  <footer class="site-footer">
    <div class="footer-content">
      <div class="footer-info">
        <p>&copy; 2025 Arnab. All rights reserved.</p>
        <p class="footer-attribution">
          Powered by
          <a href="https://openweathermap.org/" target="_blank" rel="noopener noreferrer">OpenWeatherMap</a>
          &
          <a href="https://gnews.io/" target="_blank" rel="noopener noreferrer">GNews</a>
        </p>
      </div>

      <div class="footer-social">
        <a href="#" aria-label="GitHub" title="GitHub">
          <i class="fab fa-github"></i>
        </a>
        <a href="#" aria-label="LinkedIn" title="LinkedIn">
          <i class="fab fa-linkedin"></i>
        </a>
        <a href="#" aria-label="Portfolio" title="Portfolio">
          <i class="fas fa-user-circle"></i>
        </a>
      </div>
    </div>
  </footer>

  <div id="notification-container"></div>

  <script src="main.js"></script>
</body>
</html>
